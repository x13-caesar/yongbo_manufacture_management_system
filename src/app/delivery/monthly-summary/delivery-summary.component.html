<div class="body-container" fxLayout="column" fxLayoutAlign="space-between center">
  <div class="nav-track" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10">
    <p class="highlight sub-header">交付小结</p>
  </div>
  <div class="button-container"><hr class="solid"></div>
  <div class="button-container" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10">
    <form fxLayout="row" fxLayoutAlign="center center">
      <div fxLayout="row" fxLayoutAlign="center center">
        <label for="start-date">从</label>
        <input id="start-date" type="date" [(ngModel)]="startDate">
      </div>
      <div fxLayout="row" fxLayoutAlign="center center">
        <label for="end-date">到</label>
        <input id="end-date" type="date" [(ngModel)]="endDate">
      </div>
      <button class="next" (click)="onDateRangeConfirm()">查看</button>
    </form>
  </div>
  <div class="fullfill vertical-isolated" fxLayout="row wrap" fxLayoutAlign="start stretch">
    <mat-card fxFlex="30">
      <mat-card-header><mat-card-title>{{startDate}}~{{endDate}}</mat-card-title></mat-card-header>
      <mat-card-content><div  fxLayout="row" fxLayoutAlign="space-between none">
        <div class="side-super-distance">
          <p>交付产品总量：</p>
          <p class="info">交付总金额：</p>
        </div>
        <div class="side-super-distance right-align">
          <p class="info">{{summarizedAmount()}}</p>
          <p class="info">{{summarizedPrice()}}</p>
        </div>
      </div></mat-card-content>

    </mat-card>
    <mat-card *ngFor="let p of product_id_list" fxFlex="30">
      <mat-card-header><mat-card-title>{{findProductName(p)}}</mat-card-title></mat-card-header>
      <mat-card-content><div fxLayout="row" fxLayoutAlign="space-between none">
        <div class="side-super-distance">
          <p class="success"> 总交付数量 </p>
          <p class="success"> 总交付价格 </p>
        </div>
        <div class="side-super-distance right-align">
          <p class="success"> {{findSummaryAmt(p)}} </p>
          <p class="success"> {{findSummaryPx(p)}}  </p>
        </div>
      </div></mat-card-content>
    </mat-card>
  </div>
  <ag-grid-angular
    style="width: 100%; height: 100%"
    class="ag-theme-material"
    [columnDefs]="ColumnDefs"
    [defaultColDef]="defaultColDef"
    [rowData]="rowData"
    [animateRows]="true"
    (gridReady)="onGridReady($event)"
    [localeText]="localeText"
    [rowGroupPanelShow]="'always'"
    [editType]="'fullRow'"
    [scrollbarWidth]="20"
    [alwaysShowHorizontalScroll]="true"
    [alwaysShowVerticalScroll]="true"
  >
  </ag-grid-angular>
</div>
